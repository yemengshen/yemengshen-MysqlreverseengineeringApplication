<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>多文段内容收起</title>
</head>
<body>
<div  class="teste">
    因国际贸易担忧情绪和美国制造业PMI进一步衰退影响，周二黄金出现了近20美元的上涨，并收回了1550美元关口。同时有消息称欧洲央行将进一步出台宽松政策，且英国议会通过阻止无协议脱欧动议，约翰逊称将推动提前大选，加剧了英国无协议脱欧的风险，进一步推动避险资金流入黄金。
    值得注意的是美联储内部依旧分歧明显，此前布拉德表示降息50个基点比较合适，但是波士顿联储主席罗森格伦依然表示不支持降息。日内美联储官员密集发声，随着市场对于美联储降息50个基点预期升温，市场需关注有关表态。
</div>
<br>
<div  class="teste">
    因国际贸易担忧情绪和美国制造业PMI进一步衰退影响，周二黄金出现了近20美元的上涨，并收回了1550美元关口。同时有消息称欧洲央行将进一步出台宽松政策，且英国议会通过阻止无协议脱欧动议，约翰逊称将推动提前大选，加剧了英国无协议脱欧的风险，进一步推动避险资金流入黄金。
    值得注意的是美联储内部依旧分歧明显，此前布拉德表示降息50个基点比较合适，但是波士顿联储主席罗森格伦依然表示不支持降息。日内美联储官员密集发声，随着市场对于美联储降息50个基点预期升温，市场需关注有关表态。
</div>
<br>
<div  class="teste">
    因国际贸易担忧情绪和美国制造业PMI进一步衰退影响，周二黄金出现了近20美元的上涨，并收回了1550美元关口。同时有消息称欧洲央行将进一步出台宽松政策，且英国议会通过阻止无协议脱欧动议，约翰逊称将推动提前大选，加剧了英国无协议脱欧的风险，进一步推动避险资金流入黄金。
    值得注意的是美联储内部依旧分歧明显，此前布拉德表示降息50个基点比较合适，但是波士顿联储主席罗森格伦依然表示不支持降息。日内美联储官员密集发声，随着市场对于美联储降息50个基点预期升温，市场需关注有关表态。
</div>
</body>
<style>
    .teste {
        width: 500px;
        background-color: #ccc;
        line-height: 26px;
    }
    a {
        text-decoration: none;
        color: red;
    }
</style>
<script>
    window.onload = function test() {
        var a = document.querySelectorAll("div[class='teste']");
        for (i = 0; i < a.length; i++) {
            init(a[i]);
        }
    }
    function init(ctn){
        var len = 60;      //默认显示字数
        var content = ctn.innerHTML;                   //获取div里的内容
        var span = document.createElement("span");     //创建<span>元素
        var a = document.createElement("a");           //创建<a>元素
        span.innerHTML = content.substring(0,len);     //span里的内容为content的前len个字符

        a.innerHTML = content.length>len?"... 展开":"";  ////判断显示的字数是否大于默认显示的字数    来设置a的显示
        a.href = "javascript:void(0)";//让a链接点击不跳转

        a.onclick = function(){
            if(a.innerHTML.indexOf("展开")>0){      //如果a中含有"展开"则显示"收起"
                a.innerHTML = "<<&nbsp;收起";
                span.innerHTML = content;
            }else{
                a.innerHTML = "... 展开";
                span.innerHTML = content.substring(0,len);
            }
        }
        // 设置div内容为空，span元素 a元素加入到div中
        ctn.innerHTML = "";
        ctn.appendChild(span);
        ctn.appendChild(a);
    }
</script>
</html>